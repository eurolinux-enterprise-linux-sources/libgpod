<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Photo database</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="libgpod Reference Manual">
<link rel="up" href="photodb.html" title="Part&#160;II.&#160;Photo database">
<link rel="prev" href="photodb.html" title="Part&#160;II.&#160;Photo database">
<meta name="generator" content="GTK-Doc V1.9 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="itunesdb.html" title="Part&#160;I.&#160;iPod database">
<link rel="chapter" href="ch01.html" title="iPod database components">
<link rel="part" href="photodb.html" title="Part&#160;II.&#160;Photo database">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="photodb.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="photodb.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libgpod Reference Manual</th>
<td>&#160;</td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2706336" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2740334" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="libgpod-Photo-database"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2706336"></a><span class="refentrytitle">Photo database</span>
</h2>
<p>Photo database &#8212; Functions to create, read, write the photo database</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



                    <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a>;
<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a>*       <a class="link" href="libgpod-Photo-database.html#itdb-photodb-create">itdb_photodb_create</a>                 (const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *mountpoint);
void                <a class="link" href="libgpod-Photo-database.html#itdb-photodb-free">itdb_photodb_free</a>                   (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *photodb);
<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a>*       <a class="link" href="libgpod-Photo-database.html#itdb-photodb-parse">itdb_photodb_parse</a>                  (const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *mp,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="libgpod-Photo-database.html#itdb-photodb-write">itdb_photodb_write</a>                  (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *photodb,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
<a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a>*       <a class="link" href="libgpod-Photo-database.html#itdb-photodb-add-photo">itdb_photodb_add_photo</a>              (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *filename,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> rotation,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
<a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a>*       <a class="link" href="libgpod-Photo-database.html#itdb-photodb-add-photo-from-data">itdb_photodb_add_photo_from_data</a>    (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guchar"
>guchar</a> *image_data,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gsize"
>gsize</a> image_data_len,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> rotation,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
<a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a>*       <a class="link" href="libgpod-Photo-database.html#itdb-photodb-add-photo-from-pixbuf">itdb_photodb_add_photo_from_pixbuf</a>  (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a> pixbuf,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> rotation,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
void                <a class="link" href="libgpod-Photo-database.html#itdb-photodb-remove-photo">itdb_photodb_remove_photo</a>           (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a> *album,
                                                         <a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a> *photo);
                    <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a>;
<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a>*    <a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-create">itdb_photodb_photoalbum_create</a>      (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *albumname,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> pos);
void                <a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-add-photo">itdb_photodb_photoalbum_add_photo</a>   (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a> *album,
                                                         <a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a> *photo,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position);
<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a>*    <a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-by-name">itdb_photodb_photoalbum_by_name</a>     (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *albumname);
void                <a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-remove">itdb_photodb_photoalbum_remove</a>      (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a> *album,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> remove_pics);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2740334"></a><h2>Description</h2>
<p>
These functions are for creating, reading, and writing the photo
database.
</p>
<p>
Overview of using the Photo database:
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-parse"><code class="function">itdb_photodb_parse()</code></a>:
Read an existing PhotoDB.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-create"><code class="function">itdb_photodb_create()</code></a>:
Create a new <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> structure. The Photo Library Album is
(first album) is created automatically.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-add-photo"><code class="function">itdb_photodb_add_photo()</code></a>, <a class="link" href="libgpod-Photo-database.html#itdb-photodb-add-photo-from-data"><code class="function">itdb_photodb_add_photo_from_data()</code></a>:
Add a photo to the PhotoDB (from file or from a chunk of
memory). It is automatically added to the Photo Library Album
(first album), which is created if it does not exist already.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-create"><code class="function">itdb_photodb_photoalbum_create()</code></a>:
Create and add a new photoalbum.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-add-photo"><code class="function">itdb_photodb_photoalbum_add_photo()</code></a>:
Add a photo (<a class="link" href="libgpod-Artwork.html#Itdb-Artwork"><span class="type">Itdb_Artwork</span></a>) to an existing photoalbum.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-remove"><code class="function">itdb_photodb_photoalbum_remove()</code></a>:
Remove an existing photoalbum. Pictures can be kept in the
Photo Library or automatically removed as well.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-remove-photo"><code class="function">itdb_photodb_remove_photo()</code></a>:
Remove a photo either from a photoalbum or completely from the database.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-write"><code class="function">itdb_photodb_write()</code></a>:
Write out your PhotoDB.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-free"><code class="function">itdb_photodb_free()</code></a>:
Free all memory taken by the PhotoDB.
</p>
<p>
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-photoalbum-by-name"><code class="function">itdb_photodb_photoalbum_by_name()</code></a>:
Find the first photoalbum with a given name or the Photo
Library Album if called with no name.
</p>
<p>
If you cannot add photos because your iPod is not recognized,
you may have to set the iPod model by calling
<a class="link" href="libgpod-Device.html#itdb-device-set-sysinfo"><code class="function">itdb_device_set_sysinfo()</code></a>, e.g. for an 80 GB 6th generation
iPod Video, you would use:
</p>
<pre class="programlisting">
itdb_device_set_sysinfo (db-&gt;device, "ModelNumStr", "MA450");
</pre>
<p>
See <a class="ulink" href="http://gtkpod.svn.sourceforge.net/svnroot/gtkpod/libgpod/trunk/src/itdb_device.c" target="_top">itdb_device.c</a>
for a list of supported models.
</p>
<p>
The model number will be saved on the iPod when the PhotoDB is
written (<a class="link" href="libgpod-Photo-database.html#itdb-photodb-write"><code class="function">itdb_photodb_write()</code></a> calls <a class="link" href="libgpod-Device.html#itdb-device-write-sysinfo"><code class="function">itdb_device_write_sysinfo()</code></a>).
</p>
<p>
Have a look at the <a class="ulink" href="http://gtkpod.svn.sourceforge.net/svnroot/gtkpod/libgpod/trunk/tests/test-photos.c" target="_top">test-photos</a>
test program in the <a class="ulink" href="http://gtkpod.svn.sourceforge.net/svnroot/gtkpod/libgpod/trunk/tests/" target="_top">tests/</a>
directory of the libgpod source for an example of how to use the interface.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2745883"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2745893"></a><h3>
<a name="Itdb-PhotoDB"></a>Itdb_PhotoDB</h3>
<a class="indexterm" name="id2745908"></a><pre class="programlisting">typedef struct {
    GList *photos;
    GList *photoalbums;
    Itdb_Device *device;
    /* reserved for future use */
    gint32 reserved_int1;
    gint32 reserved_int2;
    gpointer reserved1;
    gpointer reserved2;
    /* below is for use by application */
    guint64 usertype;
    gpointer userdata;
    /* functions called to duplicate/free userdata */
    ItdbUserDataDuplicateFunc userdata_duplicate;
    ItdbUserDataDestroyFunc userdata_destroy;
} Itdb_PhotoDB;
</pre>
<p>
Structure representing an iTunes Photo database</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Doubly-Linked-Lists.html#GList"
>GList</a>&#160;*<em class="structfield"><code>photos</code></em>;</span></p></td>
<td>             A list of photos in the database (<a class="link" href="libgpod-Artwork.html#Itdb-Artwork"><span class="type">Itdb_Artwork</span></a>)
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Doubly-Linked-Lists.html#GList"
>GList</a>&#160;*<em class="structfield"><code>photoalbums</code></em>;</span></p></td>
<td>        A list of albums in the database (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum"><span class="type">Itdb_PhotoAlbum</span></a>)
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libgpod-Device.html#Itdb-Device">Itdb_Device</a>&#160;*<em class="structfield"><code>device</code></em>;</span></p></td>
<td>             iPod device info (<a class="link" href="libgpod-Device.html#Itdb-Device"><span class="type">Itdb_Device</span></a>)
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>reserved_int1</code></em>;</span></p></td>
<td>      Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>reserved_int2</code></em>;</span></p></td>
<td>      Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>&#160;<em class="structfield"><code>reserved1</code></em>;</span></p></td>
<td>          Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>&#160;<em class="structfield"><code>reserved2</code></em>;</span></p></td>
<td>          Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint64"
>guint64</a>&#160;<em class="structfield"><code>usertype</code></em>;</span></p></td>
<td>           For use by application
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>&#160;<em class="structfield"><code>userdata</code></em>;</span></p></td>
<td>           For use by application
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libgpod-The-Itdb-iTunesDB-structure.html#ItdbUserDataDuplicateFunc">ItdbUserDataDuplicateFunc</a>&#160;<em class="structfield"><code>userdata_duplicate</code></em>;</span></p></td>
<td> A function to duplicate <span class="type">userdata</span>
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libgpod-The-Itdb-iTunesDB-structure.html#ItdbUserDataDestroyFunc">ItdbUserDataDestroyFunc</a>&#160;<em class="structfield"><code>userdata_destroy</code></em>;</span></p></td>
<td>   A function to free <span class="type">userdata</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2751958"></a><h3>
<a name="itdb-photodb-create"></a>itdb_photodb_create ()</h3>
<a class="indexterm" name="id2751973"></a><pre class="programlisting"><a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a>*       itdb_photodb_create                 (const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *mountpoint);</pre>
<p>
Creates a new Itdb_PhotoDB. If mountpoint is NULL, you will have to
set it manually later by calling <a class="link" href="libgpod-Device.html#itdb-device-set-mountpoint"><code class="function">itdb_device_set_mountpoint()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>mountpoint</code></em>&#160;:</span></p></td>
<td> mountpoint or NULL.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a newly created Itdb_PhotoDB to be freed with
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-free"><code class="function">itdb_photodb_free()</code></a> when it's no longer needed. The Photo Library
Album is created automatically.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2752062"></a><h3>
<a name="itdb-photodb-free"></a>itdb_photodb_free ()</h3>
<a class="indexterm" name="id2752076"></a><pre class="programlisting">void                itdb_photodb_free                   (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *photodb);</pre>
<p>
Free the memory taken by <em class="parameter"><code>photodb</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>photodb</code></em>&#160;:</span></p></td>
<td> an <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a>
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2752146"></a><h3>
<a name="itdb-photodb-parse"></a>itdb_photodb_parse ()</h3>
<a class="indexterm" name="id2752161"></a><pre class="programlisting"><a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a>*       itdb_photodb_parse                  (const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *mp,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Parses the photo database of an iPod mounted at <em class="parameter"><code>mp</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>mp</code></em>&#160;:</span></p></td>
<td>     mountpoint of the iPod
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td>  will contain the error description when an error occured.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the imported PhotoDB or NULL in case of an error.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2752258"></a><h3>
<a name="itdb-photodb-write"></a>itdb_photodb_write ()</h3>
<a class="indexterm" name="id2752273"></a><pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            itdb_photodb_write                  (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *photodb,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Write out a PhotoDB.
</p>
<p>
FIXME: error is not set yet.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>photodb</code></em>&#160;:</span></p></td>
<td>    the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to write to disk
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td>      return location for a <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
><span class="type">GError</span></a> or NULL
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE on error, in which case <em class="parameter"><code>error</code></em> is
set accordingly.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2752387"></a><h3>
<a name="itdb-photodb-add-photo"></a>itdb_photodb_add_photo ()</h3>
<a class="indexterm" name="id2752400"></a><pre class="programlisting"><a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a>*       itdb_photodb_add_photo              (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *filename,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> rotation,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Add a photo to the PhotoDB. The photo is automatically added to the
first Photoalbum, which by default contains a list of all photos in
the database. If no Photoalbums exist one is created automatically.
</p>
<p>
For the rotation angle you can also use the gdk constants
<code class="literal">GDK_PIXBUF_ROTATE_NONE</code>, <code class="literal">GDK_PIXBUF_ROTATE_COUNTERCLOCKWISE</code>,
<code class="literal">GDK_PIXBUF_ROTATE_UPSIDEDOWN</code>, AND <code class="literal">GDK_PIXBUF_ROTATE_CLOCKWISE</code>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>         the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to add the photo to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em>&#160;:</span></p></td>
<td>   path of the photo to add.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>position</code></em>&#160;:</span></p></td>
<td>   position where to insert the new photo (-1 to append
             at the end)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>rotation</code></em>&#160;:</span></p></td>
<td>   angle by which the image should be rotated
             counterclockwise. Valid values are 0, 90, 180 and 270.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td>      return location for a <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
><span class="type">GError</span></a> or NULL
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a pointer to the added photo.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2752617"></a><h3>
<a name="itdb-photodb-add-photo-from-data"></a>itdb_photodb_add_photo_from_data ()</h3>
<a class="indexterm" name="id2752633"></a><pre class="programlisting"><a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a>*       itdb_photodb_add_photo_from_data    (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guchar"
>guchar</a> *image_data,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gsize"
>gsize</a> image_data_len,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> rotation,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Add a photo to the PhotoDB. The photo is automatically added to the
first Photoalbum, which by default contains a list of all photos in
the database. If no Photoalbums exist one is created automatically.
</p>
<p>
For the rotation angle you can also use the gdk constants
<code class="literal">GDK_PIXBUF_ROTATE_NONE</code>, <code class="literal">GDK_PIXBUF_ROTATE_COUNTERCLOCKWISE</code>,
<code class="literal">GDK_PIXBUF_ROTATE_UPSIDEDOWN</code>, AND <code class="literal">GDK_PIXBUF_ROTATE_CLOCKWISE</code>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>             the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to add the photo to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>image_data</code></em>&#160;:</span></p></td>
<td>     chunk of memory containing the image data (for
                 example a jpg file)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>image_data_len</code></em>&#160;:</span></p></td>
<td> length of above chunk of memory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>position</code></em>&#160;:</span></p></td>
<td>       position where to insert the new photo (-1 to
                 append at the end)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>rotation</code></em>&#160;:</span></p></td>
<td>       angle by which the image should be rotated
                 counterclockwise. Valid values are 0, 90, 180 and 270.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td>          return location for a <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
><span class="type">GError</span></a> or NULL
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a pointer to the added photo.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2752874"></a><h3>
<a name="itdb-photodb-add-photo-from-pixbuf"></a>itdb_photodb_add_photo_from_pixbuf ()</h3>
<a class="indexterm" name="id2752889"></a><pre class="programlisting"><a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a>*       itdb_photodb_add_photo_from_pixbuf  (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a> pixbuf,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> rotation,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Add a photo to the PhotoDB. The photo is automatically added to the
first Photoalbum, which by default contains a list of all photos in
the database. If no Photoalbums exist one is created automatically.
</p>
<p>
For the rotation angle you can also use the gdk constants
<code class="literal">GDK_PIXBUF_ROTATE_NONE</code>, <code class="literal">GDK_PIXBUF_ROTATE_COUNTERCLOCKWISE</code>,
<code class="literal">GDK_PIXBUF_ROTATE_UPSIDEDOWN</code>, AND <code class="literal">GDK_PIXBUF_ROTATE_CLOCKWISE</code>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>         the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to add the photo to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pixbuf</code></em>&#160;:</span></p></td>
<td>     a <a
href="/usr/share/gtk-doc/html/gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a> to use as the image data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>position</code></em>&#160;:</span></p></td>
<td>   position where to insert the new photo (-1 to append
             at the end)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>rotation</code></em>&#160;:</span></p></td>
<td>   angle by which the image should be rotated
             counterclockwise. Valid values are 0, 90, 180 and 270.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td>      return location for a <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
><span class="type">GError</span></a> or NULL
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a pointer to the added photo.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.5.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2753112"></a><h3>
<a name="itdb-photodb-remove-photo"></a>itdb_photodb_remove_photo ()</h3>
<a class="indexterm" name="id2753126"></a><pre class="programlisting">void                itdb_photodb_remove_photo           (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a> *album,
                                                         <a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a> *photo);</pre>
<p>
Removes a photo. If <em class="parameter"><code>album</code></em> is not the first photoalbum, the photo
will be removed from that album only. If <em class="parameter"><code>album</code></em> is NULL or the
first photoalbum (Photo Library), the photo will be removed from
all albums and the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a>.
</p>
<p>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<em class="parameter"><code>photo</code></em> will be freed and can no longer be used if removed from the
first photoalbum.
</div>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>     the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to remove the photo from
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>album</code></em>&#160;:</span></p></td>
<td>  the album to remove the photo from. If album is NULL, then
         it will first be removed from all photoalbums and then
         from the photo database as well.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>photo</code></em>&#160;:</span></p></td>
<td>  <a class="link" href="libgpod-Artwork.html#Itdb-Artwork"><span class="type">Itdb_Artwork</span></a> (photo) to remove.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2753278"></a><h3>
<a name="Itdb-PhotoAlbum"></a>Itdb_PhotoAlbum</h3>
<a class="indexterm" name="id2753293"></a><pre class="programlisting">typedef struct {
    Itdb_PhotoDB *photodb;
    gchar *name;
    GList *members;
    guint8 album_type;
    guint8 playmusic;
    guint8 repeat;
    guint8 random;
    guint8 show_titles;
    guint8 transition_direction;
    gint32 slide_duration;
    gint32 transition_duration;
    gint64 song_id;
    gint32 unk024;
    gint16 unk028;
    gint32 unk044;
    gint32 unk048;
    /* set automatically at time of writing the PhotoDB */
    gint32  album_id;
    gint32  prev_album_id;
    /* reserved for future use */
    gint32 reserved_int1;
    gint32 reserved_int2;
    gpointer reserved1;
    gpointer reserved2;
    /* below is for use by application */
    guint64 usertype;
    gpointer userdata;
    /* functions called to duplicate/free userdata */
    ItdbUserDataDuplicateFunc userdata_duplicate;
    ItdbUserDataDestroyFunc userdata_destroy;
} Itdb_PhotoAlbum;
</pre>
<p>
Structure representing an iTunes Photo Album</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a>&#160;*<em class="structfield"><code>photodb</code></em>;</span></p></td>
<td>              A pointer to the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> (for convenience)
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a>&#160;*<em class="structfield"><code>name</code></em>;</span></p></td>
<td>                 The name of photoalbum in UTF8
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Doubly-Linked-Lists.html#GList"
>GList</a>&#160;*<em class="structfield"><code>members</code></em>;</span></p></td>
<td>              A list of photos in album (<a class="link" href="libgpod-Artwork.html#Itdb-Artwork"><span class="type">Itdb_Artwork</span></a>)
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;<em class="structfield"><code>album_type</code></em>;</span></p></td>
<td>           The album type.  0x01 for master (Photo Library),
                       0x02 for a normal album.  (4 and 5 have also been
                       seen.)
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;<em class="structfield"><code>playmusic</code></em>;</span></p></td>
<td>            Play music during slideshow
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;<em class="structfield"><code>repeat</code></em>;</span></p></td>
<td>               Repeat the slideshow
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;<em class="structfield"><code>random</code></em>;</span></p></td>
<td>               Show slides in random order
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;<em class="structfield"><code>show_titles</code></em>;</span></p></td>
<td>          Show slide captions
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;<em class="structfield"><code>transition_direction</code></em>;</span></p></td>
<td> Transition direction.  0=none, 1=left-to-right,
                       2=right-to-left, 3=top-to-bottom, 4=bottom-to-top
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>slide_duration</code></em>;</span></p></td>
<td>       Slide duration in seconds
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>transition_duration</code></em>;</span></p></td>
<td>  Transition duration, in milliseconds
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint64"
>gint64</a>&#160;<em class="structfield"><code>song_id</code></em>;</span></p></td>
<td>              The <em class="parameter"><code>dbid2</code></em> of a track to play during slideshow
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>unk024</code></em>;</span></p></td>
<td>               Unknown, seems to be always 0
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint16"
>gint16</a>&#160;<em class="structfield"><code>unk028</code></em>;</span></p></td>
<td>               Unknown, seems to be always 0
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>unk044</code></em>;</span></p></td>
<td>               Unknown, seems to always be 0
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>unk048</code></em>;</span></p></td>
<td>               Unknown, seems to always be 0
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>album_id</code></em>;</span></p></td>
<td>             The id of the album.  This is set automatically when
                       the PhotoDB is written.
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>prev_album_id</code></em>;</span></p></td>
<td>        The id of the previous playlist.  This is set
                       automatically when the PhotoDB is written.
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>reserved_int1</code></em>;</span></p></td>
<td>        Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint32"
>gint32</a>&#160;<em class="structfield"><code>reserved_int2</code></em>;</span></p></td>
<td>        Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>&#160;<em class="structfield"><code>reserved1</code></em>;</span></p></td>
<td>            Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>&#160;<em class="structfield"><code>reserved2</code></em>;</span></p></td>
<td>            Reserved for future use
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint64"
>guint64</a>&#160;<em class="structfield"><code>usertype</code></em>;</span></p></td>
<td>             For use by application
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>&#160;<em class="structfield"><code>userdata</code></em>;</span></p></td>
<td>             For use by application
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libgpod-The-Itdb-iTunesDB-structure.html#ItdbUserDataDuplicateFunc">ItdbUserDataDuplicateFunc</a>&#160;<em class="structfield"><code>userdata_duplicate</code></em>;</span></p></td>
<td>   A function to duplicate <span class="type">userdata</span>
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libgpod-The-Itdb-iTunesDB-structure.html#ItdbUserDataDestroyFunc">ItdbUserDataDestroyFunc</a>&#160;<em class="structfield"><code>userdata_destroy</code></em>;</span></p></td>
<td>     A function to free <span class="type">userdata</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.0
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2753922"></a><h3>
<a name="itdb-photodb-photoalbum-create"></a>itdb_photodb_photoalbum_create ()</h3>
<a class="indexterm" name="id2753937"></a><pre class="programlisting"><a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a>*    itdb_photodb_photoalbum_create      (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *albumname,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> pos);</pre>
<p>
Create and add a new photoalbum.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>         The database to create a new album in
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>albumname</code></em>&#160;:</span></p></td>
<td>  the name of the new album
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pos</code></em>&#160;:</span></p></td>
<td>        position where to insert the newly created album (-1
             to append at the end).
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the album which was created and added.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2754860"></a><h3>
<a name="itdb-photodb-photoalbum-add-photo"></a>itdb_photodb_photoalbum_add_photo ()</h3>
<a class="indexterm" name="id2754875"></a><pre class="programlisting">void                itdb_photodb_photoalbum_add_photo   (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a> *album,
                                                         <a class="link" href="libgpod-Artwork.html#Itdb-Artwork">Itdb_Artwork</a> *photo,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> position);</pre>
<p>
Adds a photo already in the library to the specified album
<em class="parameter"><code>album</code></em>. Photos are automatically added to the first album (Photo
Library) when calling <a class="link" href="libgpod-Photo-database.html#itdb-photodb-add-photo"><code class="function">itdb_photodb_add_photo()</code></a> or
<a class="link" href="libgpod-Photo-database.html#itdb-photodb-add-photo-from-data"><code class="function">itdb_photodb_add_photo_from_data()</code></a>, so you don't have to use this
function to add them there.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>         the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to act on
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>album</code></em>&#160;:</span></p></td>
<td>      the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum"><span class="type">Itdb_PhotoAlbum</span></a> to add the photo to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>photo</code></em>&#160;:</span></p></td>
<td>      a pointer to the photo (<a class="link" href="libgpod-Artwork.html#Itdb-Artwork"><span class="type">Itdb_Artwork</span></a>) to add to the
             album
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>position</code></em>&#160;:</span></p></td>
<td>   position where to insert the new photo (-1 to append
             at the end)
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2755030"></a><h3>
<a name="itdb-photodb-photoalbum-by-name"></a>itdb_photodb_photoalbum_by_name ()</h3>
<a class="indexterm" name="id2755045"></a><pre class="programlisting"><a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a>*    itdb_photodb_photoalbum_by_name     (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *albumname);</pre>
<p>
Find the first photoalbum with a given name or the Photo Library
Album if called with no name.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>         the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to retrieve the album from
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>albumname</code></em>&#160;:</span></p></td>
<td>  the name of the photoalbum to get or NULL for the
             master photoalbum.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a pointer to the first photoalbum named <em class="parameter"><code>albumname</code></em>,
else NULL

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2755140"></a><h3>
<a name="itdb-photodb-photoalbum-remove"></a>itdb_photodb_photoalbum_remove ()</h3>
<a class="indexterm" name="id2755155"></a><pre class="programlisting">void                itdb_photodb_photoalbum_remove      (<a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB">Itdb_PhotoDB</a> *db,
                                                         <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoAlbum">Itdb_PhotoAlbum</a> *album,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> remove_pics);</pre>
<p>
Remove <em class="parameter"><code>album</code></em> from the Photo Database. If <em class="parameter"><code>remove_pics</code></em> is TRUE,
remove all photos contained in <em class="parameter"><code>album</code></em> from the Photo Database.
</p>
<p>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
Memory used by the removed album will be freed and the album cannot
be accessed any more.
</div>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>db</code></em>&#160;:</span></p></td>
<td>             the <a class="link" href="libgpod-Photo-database.html#Itdb-PhotoDB"><span class="type">Itdb_PhotoDB</span></a> to apply changes to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>album</code></em>&#160;:</span></p></td>
<td>          the album to be removed from the database
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>remove_pics</code></em>&#160;:</span></p></td>
<td>    TRUE to remove pics in that album permanently
                 from the database.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.4.2
</p>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2755278"></a><div class="refsect2" lang="en"><a name="id2755279"></a></div>
<hr>
<div class="refsect2" lang="en"><a name="id2755280"></a></div>
</div>
</div>
</body>
</html>
